
### ARUco Detector

## 목표
ARUco의 fiducial marker를 검출하고, 3차원 좌표 생성하는것.

## ARUco란?
증강현실(Augmented Reality)에서 가상의 3차원 물체를 렌더링 할 때 사용하는 기준 마커(Fiducial marker)를 생성하는 대표적인 방법이다. 
현실 공간에서 가상의 3차원 물체를 렌더링 할 때는 어느 위치에서 어떤 자세로 표현될지에 대한 기준점이 필요하다. 기준을 정하는 방법은 크게 세 가지로, GPS 기반, 실세계 객체 기반, 그리고 기준 마커(Fiducial marker)를 기반으로 하는 방법이 있다. 그 중 기준 마커를 사용한 방법중 가장 널리 쓰이는 방법이 S. Garrido-Jurado 등이 2014년 출판한 논문 "Automatic generation and detection of highly reliable fiducial markers under occlusion" 에서 제시한 방법이고, 이를 ARUco라 부른다.  여기서 Uco는 저자들의 소속 대학인 University of Córdoba 의 약자이다.

## 해당 기법의 의의
해당 기법이 제시한 가장 핵심 아이디어는, 주어진 기준 기호들을 비트맵으로 보고 바이트 기반 숫자로 변환 했을 때, 숫자 간 오차의 최소값을 최대한 크게 만드는 것이다. 이 방법이 제대로 작동하면, 일부 기호의 가려짐이나 훼손이 있어도 안정적으로 대응하는 마커가 무엇인지 찾아 낼 수 있다는 것이다. 조금 더 구체적으로는, 사전에서 나타나는 바이트 단위 숫자들간 오차를 $\tau$ 라고  하면, 그림에서 검출한 마커와 사전에 있는 특정 비트맵과의 오차가 $[(\tau-1)/2]$ 이하일 때 해당 비트맵의 번호를 검출한 마커의 번호라고 볼 수 있다. 다만 해당 방식은 검출한 마커가 정상적인 마커가 아니어도 인식하는 경우(False positive)가 있을 수 있어 실제로는 더 작은 오차만을 허용하기도 한다.

## 구체적인 절차
1. 주어진 마커 사진을 흑백 사진으로 변환한다. 
2. 변환한 흑백사진을 adpative thresholding 기법으로 이진화 한다
3. 이진화한 사진에서 contour를 계산한 뒤, 그중 사각형 모양만 선별하고, 그 코너점들을 저장한다.
4. 선별한 코너점으로 부터 미리 정의한 사전에 정의된 크기에 맞게 bit matrix로 변환한다.
5. 변환한 bit matrix와 일치하는 기준 객체를 사전에서 찾아 아이디와 대응하는 마커의 코너점을 출력한다.


## 구현 방법
MarkerDetector.cpp 클래스를 형성하여 기능 구현
구현에 필수로 필요한 Dictionary 객체는 기존 openCV ARUco 모듈에서 참조
